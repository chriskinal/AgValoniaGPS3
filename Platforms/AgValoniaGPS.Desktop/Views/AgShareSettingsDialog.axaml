<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="AgValoniaGPS.Desktop.Views.AgShareSettingsDialog"
        Title="AgShare Settings"
        Width="500"
        Height="380"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        Background="#2C3E50">

    <Window.Styles>
        <Style Selector="Button.ToolButton">
            <Setter Property="Background" Value="#34495E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="MinWidth" Value="60"/>
            <Setter Property="MinHeight" Value="40"/>
        </Style>
        <Style Selector="Button.ToolButton:pointerover">
            <Setter Property="Background" Value="#4A6278"/>
        </Style>
        <Style Selector="Button.ToolButton:pressed">
            <Setter Property="Background" Value="#1ABC9C"/>
        </Style>

        <Style Selector="Button.CancelButton">
            <Setter Property="Background" Value="#C0392B"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="MinWidth" Value="60"/>
            <Setter Property="MinHeight" Value="60"/>
        </Style>
        <Style Selector="Button.CancelButton:pointerover">
            <Setter Property="Background" Value="#E74C3C"/>
        </Style>

        <Style Selector="Button.OkButton">
            <Setter Property="Background" Value="#27AE60"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="MinWidth" Value="60"/>
            <Setter Property="MinHeight" Value="60"/>
        </Style>
        <Style Selector="Button.OkButton:pointerover">
            <Setter Property="Background" Value="#2ECC71"/>
        </Style>

        <Style Selector="Button.TestButton">
            <Setter Property="Background" Value="#3498DB"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="MinWidth" Value="100"/>
            <Setter Property="MinHeight" Value="40"/>
        </Style>
        <Style Selector="Button.TestButton:pointerover">
            <Setter Property="Background" Value="#5DADE2"/>
        </Style>
    </Window.Styles>

    <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,*" Margin="15">
        <!-- Header -->
        <Border Grid.Row="0" Background="#34495E" CornerRadius="4,4,0,0" Padding="10,8">
            <StackPanel Orientation="Horizontal">
                <Image Source="avares://AgValoniaGPS.Views/Assets/Icons/AgShare.png" Width="24" Height="24" Margin="0,0,10,0"/>
                <TextBlock Text="AgShare Configuration" Foreground="#1ABC9C" FontWeight="Bold" FontSize="16"/>
            </StackPanel>
        </Border>

        <!-- Server URL -->
        <Border Grid.Row="1" Background="#34495E" Padding="10" Margin="0,5,0,0" CornerRadius="4">
            <StackPanel>
                <TextBlock Text="Server URL:" Foreground="#BDC3C7" FontSize="12"/>
                <Grid ColumnDefinitions="*,Auto" Margin="0,5,0,0">
                    <Border Grid.Column="0" Background="White" CornerRadius="4" Padding="8,6"
                            Cursor="Hand" PointerPressed="ServerUrlBorder_PointerPressed">
                        <TextBlock x:Name="ServerUrlTextBlock"
                                   Foreground="Black" FontSize="14"
                                   VerticalAlignment="Center"
                                   Text="https://agshare.agopengps.com"/>
                    </Border>
                    <Button Grid.Column="1" Classes="ToolButton" Width="50" Height="40" Margin="5,0,0,0"
                            Click="BtnBackspaceServer_Click" ToolTip.Tip="Backspace">
                        <Image Source="avares://AgValoniaGPS.Views/Assets/Icons/BackSpace.png" Width="28" Height="28"/>
                    </Button>
                </Grid>
            </StackPanel>
        </Border>

        <!-- API Key -->
        <Border Grid.Row="2" Background="#34495E" Padding="10" Margin="0,5,0,0" CornerRadius="4">
            <StackPanel>
                <TextBlock Text="API Key:" Foreground="#BDC3C7" FontSize="12"/>
                <Grid ColumnDefinitions="*,Auto,Auto" Margin="0,5,0,0">
                    <Border Grid.Column="0" Background="White" CornerRadius="4" Padding="8,6"
                            Cursor="Hand" PointerPressed="ApiKeyBorder_PointerPressed">
                        <TextBlock x:Name="ApiKeyTextBlock"
                                   Foreground="Black" FontSize="14"
                                   VerticalAlignment="Center"
                                   Text=""/>
                    </Border>
                    <Button Grid.Column="1" Classes="ToolButton" Width="50" Height="40" Margin="5,0,0,0"
                            Click="BtnPasteApiKey_Click" ToolTip.Tip="Paste from clipboard">
                        <TextBlock Text="ðŸ“‹" FontSize="20"/>
                    </Button>
                    <Button Grid.Column="2" Classes="ToolButton" Width="50" Height="40" Margin="5,0,0,0"
                            Click="BtnBackspaceApiKey_Click" ToolTip.Tip="Backspace">
                        <Image Source="avares://AgValoniaGPS.Views/Assets/Icons/BackSpace.png" Width="28" Height="28"/>
                    </Button>
                </Grid>
                <TextBlock Text="Get your API key from agshare.agopengps.com" Foreground="#BDC3C7" FontSize="11" Margin="0,3,0,0"/>
            </StackPanel>
        </Border>

        <!-- Test Connection -->
        <Border Grid.Row="3" Background="#34495E" Padding="10" Margin="0,5,0,0" CornerRadius="4">
            <Grid ColumnDefinitions="Auto,*,Auto">
                <Button Grid.Column="0" Classes="TestButton" Click="BtnTestConnection_Click">
                    <StackPanel Orientation="Horizontal" Spacing="5">
                        <TextBlock Text="Test Connection" VerticalAlignment="Center"/>
                    </StackPanel>
                </Button>
                <TextBlock x:Name="ConnectionStatusLabel" Grid.Column="1"
                           Foreground="#BDC3C7" FontSize="14"
                           VerticalAlignment="Center" HorizontalAlignment="Center"
                           Text=""/>
                <CheckBox x:Name="EnabledCheckBox" Grid.Column="2"
                          Content="Enabled" Foreground="White"
                          VerticalAlignment="Center"/>
            </Grid>
        </Border>

        <!-- Spacer -->
        <Border Grid.Row="4"/>

        <!-- Bottom buttons: Cancel and OK -->
        <Grid Grid.Row="5" ColumnDefinitions="*,Auto,Auto" Margin="0,15,0,0" VerticalAlignment="Bottom">
            <Border Grid.Column="0"/>
            <Button Grid.Column="1" Classes="CancelButton" Width="60" Height="60" Margin="0,0,10,0"
                    Click="BtnCancel_Click" ToolTip.Tip="Cancel">
                <Image Source="avares://AgValoniaGPS.Views/Assets/Icons/FileClose.png" Width="40" Height="40"/>
            </Button>
            <Button x:Name="BtnOk" Grid.Column="2" Classes="OkButton" Width="60" Height="60"
                    Click="BtnOk_Click" ToolTip.Tip="Save settings">
                <TextBlock Text="OK" FontSize="18" FontWeight="Bold" Foreground="White"/>
            </Button>
        </Grid>
    </Grid>
</Window>
